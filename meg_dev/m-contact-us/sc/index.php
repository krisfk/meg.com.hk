<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>MEG一站式学车平台 - 专业考牌学车顾问 联络我们 </title>
	<link rel="stylesheet" href="../style.css">
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>

	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"/>

	<script src="https://maps.googleapis.com/maps/api/js?libraries=places&key=AIzaSyBcDNaL1X-ElylUXw8mb07ygWv7MXUYjJY"></script>
	<script type="text/javascript" src="../all.js"></script>

	<script type="text/javascript" src="../gmaps.js"></script>

	
	<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120546295-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-120546295-1');
</script>
	
	<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MB4SKKR');</script>
<!-- End Google Tag Manager -->

	
	
	
</head>

<body>

		<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MB4SKKR"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

	
	<div class="main-container">

		<div class="header">

			<div class="header-inner">
				<div class="middle">
					<a href="https://www.meg.com.hk/tc/index.html" id="logo"><img src="https://www.meg.com.hk/images/logo_2.png"></a>
					<div class="page-title">联络我们</div>
				</div>

			</div>

		</div>
		<div class="middle">
			<div class="shop-menu meg">
				<div class="shop-title meg">MEG 门市</div>
				<ul>

			
					<li><a href="#meg-1" data-route="1" data-logo="meg" data-exit-title="港铁铜锣湾站F1出口 (步行时间： 1 min)" data-ori-lat="22.279877" data-ori-lon="114.184368" data-lat="22.280002" data-lon="114.184256" data-place-lat="22.280002" data-place-lon="114.184256" data-name="MEG 铜锣湾分店" data-address="铜锣湾轩尼诗道 502 号黄金广场 15 楼 1503 室 (港铁铜锣湾站F出口)">铜锣湾</a>
					</li>
					<li><a href="#meg-2" data-route="1" data-logo="meg" data-exit-title="港铁旺角站E2出口 (步行时间： 1 min)" data-ori-lat="22.3178186" data-ori-lon="114.1698303" data-lat="22.316823" data-lon="114.17022" data-place-lat="22.316823" data-place-lon="114.17022"  data-name="MEG 旺角分店" data-address="旺角弥敦道 610 号荷李活商业中心 10 楼 1023 室 (港铁旺角站E2出口，旺角百老汇戏院对面)">旺角</a>
					</li>
				
					<li><a href="#meg-3" data-route="1" data-logo="meg" data-exit-title="荃湾港铁站A1出口 (步行时间： 4 min)" data-ori-lat="22.373711" data-ori-lon="114.116819" data-lat="22.373167" data-lon="114.116642" data-place-lat="22.373185" data-place-lon="114.116519"  data-name="MEG 荃湾分店 (力生广场)" data-address="荃湾青山公路 263 - 267 号力生广场地下 G8-10 号舖 (港铁站 A 出口)">荃湾</a>
					</li>


					<li><a href="#meg-4" data-route="1" data-logo="meg" data-exit-title="港铁朗屏站B2出口 (步行时间： 8 min)" data-ori-lat="22.447559" data-ori-lon="114.023698" data-lat="22.444851" data-lon="114.024254" data-place-lat="22.444851" data-place-lon="114.024254"  data-name="MEG 元朗分店" data-address="元朗广场2楼 266 号舖">元朗</a>
					</li>

					<li><a href="#meg-5" data-route="1" data-logo="meg" data-exit-title="港铁屯门站D出口 (步行时间： 1 min)" data-ori-lat="22.395370" data-ori-lon="113.973370" data-lat="22.395168" data-lon="113.973217" data-place-lat="22.395168" data-place-lon="113.973217"  data-name="MEG 屯门分店" data-address="屯门港铁站TUM42号舖 (近港铁站D出口)
">屯门</a>
					</li>


					<li><a href="#meg-6" data-route="1" data-logo="meg" data-exit-title="港铁观塘站B1出口 (步行时间： 2 min)" data-ori-lat="22.311589" data-ori-lon="114.226228" data-lat="22.310734" data-lon="114.225965" data-place-lat="22.310606" data-place-lon="114.225812"  data-name="MEG 观塘分店(泓富广场)" data-address="观塘成业街 6 号 泓富广场 13 楼 1309 室 (港铁观塘站 B1 出口)
">观塘</a>
					</li>

				

				</ul>
			</div>

			<div class="shop-menu hksm">
				<div class="shop-title hksm">香港驾驶学院 / 培训中心</div>
				<ul>
					
					<li><a href="#hksm-1" data-route="1" data-logo="hksm" data-exit-title="港铁第一城站D出口 (步行时间： 2 min)" data-ori-lat="22.383207" data-ori-lon="114.204052" data-lat="22.382336" data-lon="114.209216" data-place-lat="22.382063" data-place-lon="114.209644"  data-name="沙田安全驾驶中心" data-address="小沥源沙田围路 138 号">沙田</a>
					</li>
					
					<li><a href="#hksm-2" data-route="1" data-logo="hksm" data-exit-title="港铁朗屏站D出口 (步行时间： 20 min)" data-ori-lat="22.447694" data-ori-lon="114.026288" data-lat="22.454829" data-lon="114.032777" data-place-lat="22.454829" data-place-lon="114.032777"  data-name="元朗安全驾驶中心" data-address="元朗南生围涌业路 38 号">元朗</a>
					</li>

					

					<li><a href="#hksm-3" data-route="1" data-logo="hksm" data-exit-title="港铁海怡半岛站C出口 (步行时间： 10 min)" data-ori-lat="22.242792" data-ori-lon="114.149026" data-lat="22.239077" data-lon="114.151470" data-place-lat="22.239077" data-place-lon="114.151470"  data-name="港岛安全驾驶中心" data-address="香港鸭脷洲利南道68号">鸭脷洲</a>
					</li>

					
					<li><a href="#hksm-4" data-route="1" data-logo="meg" data-exit-title="港铁天后站A1出口 (步行时间： 2 min)" data-ori-lat="22.282923" data-ori-lon="114.192056" data-lat="22.283953" data-lon="114.192404" data-place-lat="22.283953" data-place-lon="114.192404"  data-name="天后培训中心" data-address="香港天后银幕街 12-14号 景星中心 5楼 (港铁天后站A1出口)">天后</a>
					</li>
				
				</ul>
			</div>

			<div class="shop-menu a1">
				<div class="shop-title a1">A1 驾驶学校</div>
				<ul>
					
					<li><a href="#a1-1" data-route="1" data-logo="a1" data-exit-title="港铁深水埗站B2出口 (步行时间： 2 min)" data-ori-lat="22.330762" data-ori-lon="114.163069" data-lat="22.332069" data-lon="114.160970" data-place-lat="22.332069" data-place-lon="114.160970"  data-name="A1 深水埗总店" data-address="长沙湾道264号 金辉大楼 地下B铺">深水埗</a>
					</li>
					
					<li><a href="#a1-2" data-route="0" data-logo="a1" data-exit-title="港铁何文田站A2出口" data-ori-lat="22.3192767" data-ori-lon="114.1868607" data-lat="22.3192767" data-lon="114.1868607" data-place-lat="22.3192767" data-place-lon="114.1868607"  data-name="A1 土瓜湾分店暨电单车中心(美嘉大厦)" data-address=" 土瓜湾美善同道1号美嘉大厦 地下8号铺">土瓜湾</a>
					</li>

					
					<!--					<li><a href="#a1-2" data-logo="a1" data-exit-title="港铁何文田站A2出口" data-ori-lat="22.311405" data-ori-lon="114.183457" data-lat="22.3192767" data-lon="114.1868607" data-place-lat="22.3192767" data-place-lon="114.1868607"  data-name="A1 土瓜湾分店暨电单车中心" data-address=" 土瓜湾美善同道1号美嘉大厦 地下8号铺">土瓜湾</a>
					</li>
-->
					
				

				</ul>
			</div>


			<div class="address"></div>
			<div class="map-iframe" id="map" style="height: 300px;width: 100%;">

				
			</div>
			<div class="map-iframe-loading">读取资料中 . . .</div>

		</div>
	</div>

</div>


<div id='gmap_canvas' style='height:300px;width:100%;'></div>

	
<script type="text/javascript">
		var loading = false;


		// JavaScript Document
		$( function () {

			$( '.shop-menu ul li a' ).click( function ( e ) {

				$( '.shop-menu ul li a.active' ).removeClass( 'active' );
			} );

			$( window ).on( 'hashchange', function ( e ) {
				if ( !loading ) {
				$( '.shop-menu ul li a.active' ).removeClass( 'active' );

					showLoc();
				}
			} );



		} );

		function init() {

			showLoc();
		}

		google.maps.event.addDomListener( window, 'load', init );


		function showLoc() {

	
			
			loading = true;

			var hash = location.hash;

			if ( !hash ) {
				hash = '#meg-1';
			}
			
			
			var obj = $( '.shop-menu ul li a[href="' + hash + '"]' );
			obj.toggleClass( 'active' );

			
		var showRoute = obj.attr( 'data-route' );
			
		var logo = obj.attr('data-logo');
			
			switch (logo)
				{
					case 'meg': logo = 'https://www.meg.com.hk/contact-us/img/meg-icon.jpg';break;
					case 'hksm': logo = 'https://www.meg.com.hk/contact-us/img/hksm-icon.jpg';break;
					case 'a1': logo = 'https://www.meg.com.hk/contact-us/img/a1-icon.jpg';break;

				}
			
				var address = obj.attr( 'data-address' );

			var map = obj.attr( 'data-map' );

			$( '.address' ).html( address );
			$( '.map-iframe iframe' ).attr( 'src', map );

			var lat = obj.attr( 'data-lat' );
			var lon = obj.attr( 'data-lon' );
			var ori_lat = obj.attr( 'data-ori-lat' );
			var ori_lon = obj.attr( 'data-ori-lon' );
			var place_lat = obj.attr( 'data-place-lat' );
			var place_lon = obj.attr( 'data-place-lon' );
			
			
			var shop_name = obj.attr( 'data-name' );
			var exit_title = obj.attr( 'data-exit-title' );
		
			
			if(showRoute=='1')
				{

		
			

			var map = new google.maps.Map( document.getElementById( 'map' ), {
					zoom: 2,
					disableDefaultUI: true,
					gestureHandling: "greedy",
					center: {
						lat: 0,
						lng: 0
					}
				} ),
			
				
				
				directionsService = new google.maps.DirectionsService,
				directionsDisplay = new google.maps.DirectionsRenderer( {
					map: map,


					polylineOptions: {

						strokeColor: '#F00',
						strokeOpacity: 1,
						strokeWeight: 1,
						icons: [ {
							icon: {
								path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
								scale: 2,
								//  strokeColor: "#F00",	
								fillColor: "#F00",
								fillOpacity: 1
							},
							repeat: '50px'
						} ]
					}
				} );


			directionsService.route( {
				origin: {
					lat: Number( ori_lat ),
					lng: Number( ori_lon )
				},

				destination: {
					lat: Number( lat ),
					lng: Number( lon )
				},
				travelMode: google.maps.TravelMode.WALKING
			}, function ( response, status ) {
				if ( status === google.maps.DirectionsStatus.OK ) {
					directionsDisplay.setDirections( response );
					loading = false;
				} else {
					//				window.alert( 'Directions request failed due to ' + status );
					$( '.map-iframe' ).fadeOut( 0 );
					$( '.map-iframe-loading' ).fadeIn( 500 );


					setTimeout( function () {
						loading = false;
						$( '.map-iframe' ).fadeIn( 0 );
						$( '.map-iframe-loading' ).fadeOut( 0 );
						showLoc();
					}, 1800 );
					//showLoc()
				}
			} );

			directionsDisplay.setMap( map );
			directionsDisplay.setOptions( {
				suppressMarkers: true
			} );
			
			

			

			var origin_marker = new google.maps.Marker( {
				position: {
					lat: Number( ori_lat ),
					lng: Number( ori_lon )
				},
				label: "",
				map: map
			} );

			origin_marker.setIcon( 'https://www.meg.com.hk/contact-us/img/mtr-exit-icon.jpg' );


			var destination_marker = new google.maps.Marker( {
				position: {
					lat: Number( place_lat ),
					lng: Number( place_lon )
				},
				label: "",
				map: map
			} );
			destination_marker.setIcon( logo );


		
			
			
			

			var origin_marker_content = exit_title;
			var origin_marker_infowindow = new google.maps.InfoWindow();

			google.maps.event.addListener( origin_marker, 'click', ( function ( origin_marker, origin_marker_content, origin_marker_infowindow ) {
				return function () {
					origin_marker_infowindow.setContent( origin_marker_content );
					origin_marker_infowindow.open( map, origin_marker );
				};
			} )( origin_marker, origin_marker_content, origin_marker_infowindow ) );

			/*var destination_marker_content = shop_name;
			var destination_marker_infowindow = new google.maps.InfoWindow();
			google.maps.event.addListener( destination_marker, 'click', ( function ( destination_marker, destination_marker_content, destination_marker_infowindow ) {
				return function () {
					destination_marker_infowindow.setContent( destination_marker_content );
					destination_marker_infowindow.open( map, destination_marker );
				};
			} )( destination_marker, destination_marker_content, destination_marker_infowindow ) );*/






				}
		
			else{
				
				 var myLatLng = {lat: 22.319259, lng: 114.187031};

		  
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 18,
          center: myLatLng,
	   	disableDefaultUI: true

        });

		  var destination_marker = new google.maps.Marker( {
				position: myLatLng,
				label: "",
				map: map,

			} );
		destination_marker.setIcon( logo );
				
				
				loading=false;
			
				$( '.map-iframe' ).fadeOut( 0 ).fadeIn(500);

				
			}
			
			
				var destination_marker_content = shop_name;
			var destination_marker_infowindow = new google.maps.InfoWindow();
			google.maps.event.addListener( destination_marker, 'click', ( function ( destination_marker, destination_marker_content, destination_marker_infowindow ) {
				return function () {
					destination_marker_infowindow.setContent( destination_marker_content );
					destination_marker_infowindow.open( map, destination_marker );
				};
			} )( destination_marker, destination_marker_content, destination_marker_infowindow ) );

			
			
			var styles = {
				default: null,
				hide: [ {
					featureType: 'poi',
					stylers: [ {
						visibility: 'off'
					} ]
				}, {
					featureType: 'transit',
					elementType: 'labels.icon',
					stylers: [ {
						visibility: 'off'
					} ]
				} ]
			};

			map.setOptions( {
				styles: styles[ 'hide' ]
			} );

			
		
		
		  
	/*	  
        var myLatLng = {lat: 22.319259, lng: 114.187031};

		var logo = 'https://www.meg.com.hk/contact-us/img/a1-icon.jpg';
		  
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 18,
          center: myLatLng
        });

		  var destination_marker = new google.maps.Marker( {
				position: myLatLng,
				label: "",
				map: map
			} );
		destination_marker.setIcon( logo );
		  */
      
			
			
		}
	</script>
	

	
</body>
</html>